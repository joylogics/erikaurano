{{ define "main" }}
  <div id="body-content">

    <div class="art-single">
      <div class="art-header">
        <h1>{{ .Title }}</h1>
      </div>

      <div class="art-player">
        {{ if .Params.video }}
          <div class="art-video">
            <video controls muted loop poster="{{ .Params.thumbnail }}">
              <source src="{{ .Params.video }}" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
        {{ else if .Params.image }}
          <div class="art-image">
            <img src="{{ .Params.image }}" alt="{{ .Title }}">
          </div>
        {{ end }}
      </div>

      <div class="art-content">
        <div class="art-meta">
          {{ if .Params.year }}
            <span class="art-year">{{ .Params.year }}</span>
          {{ end }}
        </div>

        <div class="art-description">
          {{ .Content }}
        </div>
      </div>

      <!-- Previous/Next artwork navigation -->
      <div class="artwork-nav">
        {{ $sorted := .Parent.Pages.ByWeight }}
        {{ $currentIndex := 0 }}
        {{ range $index, $page := $sorted }}
          {{ if eq $page.File.BaseFileName $.File.BaseFileName }}
            {{ $currentIndex = $index }}
          {{ end }}
        {{ end }}
        
        {{ if gt $currentIndex 0 }}
          {{ $prevPage := index $sorted (sub $currentIndex 1) }}
          <a href="{{ $prevPage.Permalink }}" class="nav-prev">← {{ $prevPage.Title }}</a>
        {{ end }}
        
        {{ if lt $currentIndex (sub (len $sorted) 1) }}
          {{ $nextPage := index $sorted (add $currentIndex 1) }}
          <a href="{{ $nextPage.Permalink }}" class="nav-next">{{ $nextPage.Title }} →</a>
        {{ end }}
      </div>
    </div>
  </div>
{{ end }} 
